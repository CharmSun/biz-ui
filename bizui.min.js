/**
 * BizUI Framework
 * @version v2.0.0
 * @copyright 2015 Sogou, Inc.
 * @link https://github.com/bizdevfe/biz-ui
 */

(function(e,t){typeof define=="function"&&define.amd?define([],t):e.bizui=t()})(this,function(){var e,t,n;return function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("loader/almond",function(){}),n("ui/Button",["require"],function(e){function t(e,t){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}if(!s(e))return;this.main=e,this.$main=$(this.main),this.options=$.extend({},t||{}),this.init(this.options)}function s(e){return e.nodeType===1&&e.tagName.toLowerCase()==="button"}var n="biz-button",r="biz-button-disable",i="biz-button-";t.prototype={init:function(e){this.$main.addClass(n),e.theme&&this.$main.addClass(i+e.theme),e.label&&this.$main.html(e.label),e.disabled&&this.disable()},enable:function(){this.main.disabled=!1,this.$main.removeClass(r)},disable:function(){this.main.disabled=!0,this.$main.addClass(r)},destroy:function(){this.$main.removeClass(n+" "+r),this.options.theme&&this.$main.removeClass(i+this.options.theme)}};var o="bizButton";return $.extend($.fn,{bizButton:function(e,n){var r;switch(e){case"enable":this.each(function(){r=$(this).data(o),r&&r.enable()});break;case"disable":this.each(function(){r=$(this).data(o),r&&r.disable()});break;case"destroy":this.each(function(){r=$(this).data(o),r&&(r.destroy(),$(this).data(o,null))});break;default:this.each(function(){!$(this).data(o)&&s(this)&&$(this).data(o,new t(this,e))})}return this}}),t}),n("ui/Input",["require"],function(e){function t(e,t){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}if(!o(e))return;this.main=e,this.$main=$(this.main),this.options=$.extend({},t||{}),this.init(this.options)}function o(e){return e.nodeType===1&&e.tagName.toLowerCase()==="input"&&e.getAttribute("type").toLowerCase()==="text"}var n="biz-input",r="biz-input-disable",i="biz-input-hover",s="biz-input-focus";t.prototype={init:function(e){this.$main.addClass(n),e.disabled&&this.disable();if(e.onEnter){var t=this;this.$main.on("keydown.bizInput",function(n){n.keyCode===13&&e.onEnter.call(t,n)})}this.$main.on("mouseover.bizInput",function(e){$(this).addClass(i)}).on("mouseout.bizInput",function(e){$(this).removeClass(i)}).on("focus.bizInput",function(e){$(this).addClass(s)}).on("blur.bizInput",function(e){$(this).removeClass(s)})},enable:function(){this.main.disabled=!1,this.$main.removeClass(r)},disable:function(){this.main.disabled=!0,this.$main.addClass(r)},destroy:function(){this.$main.removeClass(n+" "+r),this.$main.off("keydown.bizInput").off("mouseover.bizInput").off("mouseout.bizInput").off("focus.bizInput").off("blur.bizInput")}};var u="bizInput";return $.extend($.fn,{bizInput:function(e,n){var r;switch(e){case"enable":this.each(function(){r=$(this).data(u),r&&r.enable()});break;case"disable":this.each(function(){r=$(this).data(u),r&&r.disable()});break;case"destroy":this.each(function(){r=$(this).data(u),r&&(r.destroy(),$(this).data(u,null))});break;default:this.each(function(){!$(this).data(u)&&o(this)&&$(this).data(u,new t(this,e))})}return this}}),t}),n("ui/Textarea",["require"],function(e){function t(e,t){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}if(!o(e))return;this.main=e,this.$main=$(this.main),this.options=$.extend({},t||{}),this.init(this.options)}function o(e){return e.nodeType===1&&e.tagName.toLowerCase()==="textarea"}var n="biz-textarea",r="biz-textarea-disable",i="biz-textarea-hover",s="biz-textarea-focus";t.prototype={init:function(e){this.$main.addClass(n),e.disabled&&this.disable(),this.$main.on("mouseover.bizTextarea",function(e){$(this).addClass(i)}).on("mouseout.bizTextarea",function(e){$(this).removeClass(i)}).on("focus.bizTextarea",function(e){$(this).addClass(s)}).on("blur.bizTextarea",function(e){$(this).removeClass(s)})},enable:function(){this.main.disabled=!1,this.$main.removeClass(r)},disable:function(){this.main.disabled=!0,this.$main.addClass(r)},length:function(){return this.main.value.replace(/\r?\n/g,"").length},destroy:function(){this.$main.removeClass(n+" "+r),this.$main.off("mouseover.bizTextarea").off("mouseout.bizTextarea").off("focus.bizTextarea").off("blur.bizTextarea")}};var u="bizTextarea";return $.extend($.fn,{bizTextarea:function(e,n){var r;switch(e){case"enable":this.each(function(){r=$(this).data(u),r&&r.enable()});break;case"disable":this.each(function(){r=$(this).data(u),r&&r.disable()});break;case"destroy":this.each(function(){r=$(this).data(u),r&&(r.destroy(),$(this).data(u,null))});break;case"length":return this.length!==0?this.data(u).length():null;default:this.each(function(){!$(this).data(u)&&o(this)&&$(this).data(u,new t(this,e))})}return this}}),t}),n("ui/Radio",["require"],function(e){function t(e){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}if(!f(e))return;this.main=e,this.$main=$(this.main),this.$group=$('input[name="'+this.$main.attr("name")+'"]'),this.init()}function f(e){return e.nodeType===1&&e.tagName.toLowerCase()==="input"&&e.getAttribute("type").toLowerCase()==="radio"}var n="biz-label",r="biz-radio-unchecked",i="biz-radio-unchecked-hover",s="biz-radio-checked",o="biz-radio-checked-hover",u="biz-radio-unchecked-disabled",a="biz-radio-checked-disabled";t.prototype={init:function(e){var t=this.$main.attr("title"),f=this.$main.attr("id");this.$main.after('<label for="'+f+'">'+t+"</label>").hide(),this.$label=this.$main.next(),this.$label.addClass(n),this.main.checked?this.$label.addClass(this.main.disabled?a:s):this.$label.addClass(this.main.disabled?u:r);var l=this;this.$label.on("mouseover.bizRadio",function(e){l.main.disabled||$(this).addClass(l.main.checked?o:i)}).on("mouseout.bizRadio",function(e){l.main.disabled||$(this).removeClass(l.main.checked?o:i)}).on("click.bizRadio",function(e){l.main.disabled||(l.$group.bizRadio("uncheck"),$(this).attr("class",n+" "+s+" "+o))})},check:function(){this.$group.bizRadio("uncheck"),this.main.checked=!0,this.$label.attr("class",n+" "+(this.main.disabled?a:s))},uncheck:function(){this.main.checked=!1,this.$label.attr("class",n+" "+(this.main.disabled?u:r))},enable:function(){this.main.disabled=!1,this.$label.attr("class",n+" "+(this.main.checked?s:r))},disable:function(){this.main.disabled=!0,this.$label.attr("class",n+" "+(this.main.checked?a:u))},val:function(){return this.main.value},destroy:function(){this.$main.show(),this.$label.off("mouseover.bizRadio").off("mouseout.bizRadio").off("click.bizRadio").remove()}};var l="bizRadio";return $.extend($.fn,{bizRadio:function(e,n){var r;switch(e){case"uncheck":this.each(function(){r=$(this).data(l),r&&r.uncheck()});break;case"enable":this.each(function(){r=$(this).data(l),r&&r.enable()});break;case"disable":this.each(function(){r=$(this).data(l),r&&r.disable()});break;case"destroy":this.each(function(){r=$(this).data(l),r&&(r.destroy(),$(this).data(l,null))});break;case"val":var i;return this.each(function(){r=$(this).data(l),r&&r.main.checked&&(i=r.val())}),i;case"get":var s;return this.each(function(){r=$(this).data(l),n+""===r.main.id&&(s=r)}),s;default:this.each(function(){!$(this).data(l)&&f(this)&&$(this).data(l,new t(this))})}return this}}),t}),n("ui/Checkbox",["require"],function(e){function t(e){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}if(!f(e))return;this.main=e,this.$main=$(this.main),this.$group=$('input[name="'+this.$main.attr("name")+'"]'),this.init()}function f(e){return e.nodeType===1&&e.tagName.toLowerCase()==="input"&&e.getAttribute("type").toLowerCase()==="checkbox"}var n="biz-label",r="biz-checkbox-unchecked",i="biz-checkbox-unchecked-hover",s="biz-checkbox-checked",o="biz-checkbox-checked-hover",u="biz-checkbox-unchecked-disabled",a="biz-checkbox-checked-disabled";t.prototype={init:function(e){var t=this.$main.attr("title"),f=this.$main.attr("id");this.$main.after('<label for="'+f+'">'+t+"</label>").hide(),this.$label=this.$main.next(),this.$label.addClass(n),this.main.checked?this.$label.addClass(this.main.disabled?a:s):this.$label.addClass(this.main.disabled?u:r);var l=this;this.$label.on("mouseover.bizCheckbox",function(e){l.main.disabled||$(this).addClass(l.main.checked?o:i)}).on("mouseout.bizCheckbox",function(e){l.main.disabled||$(this).removeClass(l.main.checked?o:i)}).on("click.bizCheckbox",function(e){l.main.disabled||(l.main.checked?$(this).attr("class",n+" "+r+" "+i):$(this).attr("class",n+" "+s+" "+o))})},check:function(){this.main.checked=!0,this.$label.attr("class",n+" "+(this.main.disabled?a:s))},uncheck:function(){this.main.checked=!1,this.$label.attr("class",n+" "+(this.main.disabled?u:r))},enable:function(){this.main.disabled=!1,this.$label.attr("class",n+" "+(this.main.checked?s:r))},disable:function(){this.main.disabled=!0,this.$label.attr("class",n+" "+(this.main.checked?a:u))},val:function(){return this.main.value},destroy:function(){this.$main.show(),this.$label.off("mouseover.bizCheckbox").off("mouseout.bizCheckbox").off("click.bizCheckbox").remove()}};var l="bizCheckbox";return $.extend($.fn,{bizCheckbox:function(e,n){var r;switch(e){case"check":this.each(function(){r=$(this).data(l),r&&r.check()});break;case"uncheck":this.each(function(){r=$(this).data(l),r&&r.uncheck()});break;case"enable":this.each(function(){r=$(this).data(l),r&&r.enable()});break;case"disable":this.each(function(){r=$(this).data(l),r&&r.disable()});break;case"destroy":this.each(function(){r=$(this).data(l),r&&(r.destroy(),$(this).data(l,null))});break;case"val":var i=[];return this.each(function(){r=$(this).data(l),r&&r.main.checked&&i.push(r.val())}),i.join(",");case"get":var s;return this.each(function(){r=$(this).data(l),n+""===r.main.id&&(s=r)}),s;default:this.each(function(){!$(this).data(l)&&f(this)&&$(this).data(l,new t(this))})}return this}}),t}),n("dep/jquery.selectBox",["require"],function(e){var t=function(e,t){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}this.typeTimer=null,this.typeSearch="",this.isMac=navigator.platform.match(/mac/i),t="object"==typeof t?t:{},this.selectElement=e;if(!t.mobile&&navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i))return!1;if("select"!==e.tagName.toLowerCase())return!1;this.init(t)};return t.prototype.version="1.2.0",t.prototype.init=function(e){var t=$(this.selectElement);if(t.data("selectBox-control"))return!1;var n=$('<a class="selectBox" />'),r=t.attr("multiple")||parseInt(t.attr("size"))>1,i=e||{},s=parseInt(t.prop("tabindex"))||0,o=this;n.width(t.outerWidth()).addClass(t.attr("class")).attr("title",t.attr("title")||"").attr("tabindex",s).css("display","inline-block").bind("focus.selectBox",function(){this!==document.activeElement&&document.body!==document.activeElement&&$(document.activeElement).blur();if(n.hasClass("selectBox-active"))return;n.addClass("selectBox-active"),t.trigger("focus")}).bind("blur.selectBox",function(){if(!n.hasClass("selectBox-active"))return;n.removeClass("selectBox-active"),t.trigger("blur")}),$(window).data("selectBox-bindings")||$(window).data("selectBox-bindings",!0).bind("scroll.selectBox",i.hideOnWindowScroll?this.hideMenus:$.noop).bind("resize.selectBox",this.hideMenus),t.attr("disabled")&&n.addClass("selectBox-disabled"),t.bind("click.selectBox",function(e){n.focus(),e.preventDefault()});if(r){e=this.getOptions("inline"),n.append(e).data("selectBox-options",e).addClass("selectBox-inline selectBox-menuShowing").bind("keydown.selectBox",function(e){o.handleKeyDown(e)}).bind("keypress.selectBox",function(e){o.handleKeyPress(e)}).bind("mousedown.selectBox",function(e){if(1!==e.which)return;$(e.target).is("A.selectBox-inline")&&e.preventDefault(),n.hasClass("selectBox-focus")||n.focus()}).insertAfter(t);if(!t[0].style.height){var u=t.attr("size")?parseInt(t.attr("size")):5,a=n.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");a.find(".selectBox-options").html("<li><a> </a></li>");var f=parseInt(a.find(".selectBox-options A:first").html("&nbsp;").outerHeight());a.remove(),n.height(f*u)}this.disableSelection(n)}else{var l=$('<span class="selectBox-label" />'),c=$('<span class="selectBox-arrow" />');l.attr("class",this.getLabelClass()).text(this.getLabelText()),e=this.getOptions("dropdown"),e.appendTo("BODY"),n.data("selectBox-options",e).addClass("selectBox-dropdown").append(l).append(c).bind("mousedown.selectBox",function(t){1===t.which&&(n.hasClass("selectBox-menuShowing")?o.hideMenus():(t.stopPropagation(),e.data("selectBox-down-at-x",t.screenX).data("selectBox-down-at-y",t.screenY),o.showMenu()))}).bind("keydown.selectBox",function(e){o.handleKeyDown(e)}).bind("keypress.selectBox",function(e){o.handleKeyPress(e)}).bind("open.selectBox",function(e,t){if(t&&t._selectBox===!0)return;o.showMenu()}).bind("close.selectBox",function(e,t){if(t&&t._selectBox===!0)return;o.hideMenus()}).insertAfter(t);var h=n.width()-c.outerWidth()-(parseInt(l.css("paddingLeft"))||0)-(parseInt(l.css("paddingRight"))||0);l.width(h),this.disableSelection(n)}t.addClass("selectBox").data("selectBox-control",n).data("selectBox-settings",i).hide()},t.prototype.getOptions=function(e){var t,n=$(this.selectElement),r=this,i=function(e,t){return e.children("OPTION, OPTGROUP").each(function(){if($(this).is("OPTION"))$(this).length>0?r.generateOptions($(this),t):t.append("<li> </li>");else{var e=$('<li class="selectBox-optgroup" />');e.text($(this).attr("label")),t.append(e),t=i($(this),t)}}),t};switch(e){case"inline":return t=$('<ul class="selectBox-options" />'),t=i(n,t),t.find("A").bind("mouseover.selectBox",function(e){r.addHover($(this).parent())}).bind("mouseout.selectBox",function(e){r.removeHover($(this).parent())}).bind("mousedown.selectBox",function(e){if(1!==e.which)return;e.preventDefault(),n.selectBox("control").hasClass("selectBox-active")||n.selectBox("control").focus()}).bind("mouseup.selectBox",function(e){if(1!==e.which)return;r.hideMenus(),r.selectOption($(this).parent(),e)}),this.disableSelection(t),t;case"dropdown":t=$('<ul class="selectBox-dropdown-menu selectBox-options" />'),t=i(n,t),t.data("selectBox-select",n).css("display","none").appendTo("BODY").find("A").bind("mousedown.selectBox",function(e){e.which===1&&(e.preventDefault(),e.screenX===t.data("selectBox-down-at-x")&&e.screenY===t.data("selectBox-down-at-y")&&(t.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),/android/i.test(navigator.userAgent.toLowerCase())&&/chrome/i.test(navigator.userAgent.toLowerCase())&&r.selectOption($(this).parent()),r.hideMenus()))}).bind("mouseup.selectBox",function(e){if(1!==e.which)return;if(e.screenX===t.data("selectBox-down-at-x")&&e.screenY===t.data("selectBox-down-at-y"))return;t.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),r.selectOption($(this).parent()),r.hideMenus()}).bind("mouseover.selectBox",function(e){r.addHover($(this).parent())}).bind("mouseout.selectBox",function(e){r.removeHover($(this).parent())});var s=n.attr("class")||"";if(""!==s){s=s.split(" ");for(var o=0;o<s.length;o++)t.addClass(s[o]+"-selectBox-dropdown-menu")}return this.disableSelection(t),t}},t.prototype.getLabelClass=function(){var e=$(this.selectElement).find("OPTION:selected");return("selectBox-label "+(e.attr("class")||"")).replace(/\s+$/,"")},t.prototype.getLabelText=function(){var e=$(this.selectElement).find("OPTION:selected");return e.text()||" "},t.prototype.setLabel=function(){var e=$(this.selectElement),t=e.data("selectBox-control");if(!t)return;t.find(".selectBox-label").attr("class",this.getLabelClass()).text(this.getLabelText())},t.prototype.destroy=function(){var e=$(this.selectElement),t=e.data("selectBox-control");if(!t)return;var n=t.data("selectBox-options");n.remove(),t.remove(),e.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show()},t.prototype.refresh=function(){var e=$(this.selectElement),t=e.data("selectBox-control"),n=t.hasClass("selectBox-dropdown")?"dropdown":"inline",r;t.data("selectBox-options").remove(),r=this.getOptions(n),t.data("selectBox-options",r);switch(n){case"inline":t.append(r);break;case"dropdown":this.setLabel(),$("BODY").append(r)}"dropdown"===n&&t.hasClass("selectBox-menuShowing")&&this.showMenu()},t.prototype.showMenu=function(){var e=this,t=$(this.selectElement),n=t.data("selectBox-control"),r=t.data("selectBox-settings"),i=n.data("selectBox-options");if(n.hasClass("selectBox-disabled"))return!1;this.hideMenus();var s=parseInt(n.css("borderBottomWidth"))||0,o=parseInt(n.css("borderTopWidth"))||0,u=n.offset(),a=r.topPositionCorrelation?r.topPositionCorrelation:0,f=r.bottomPositionCorrelation?r.bottomPositionCorrelation:0,l=i.outerHeight(),c=n.outerHeight(),h=parseInt(i.css("max-height")),p=$(window).scrollTop(),d=u.top-p,v=$(window).height()-(d+c),m=d>v&&(r.keepInViewport===null?!0:r.keepInViewport),g=m?u.top-l+o+a:u.top+c-s-f;if(d<h&&v<h){var y;m?(y=h-(d-5),i.css({"max-height":h-y+"px"}),g+=y):(y=h-(v-5),i.css({"max-height":h-y+"px"}))}i.data("posTop",m),i.width(n.innerWidth()).css({top:g,left:n.offset().left}).addClass("selectBox-options selectBox-options-"+(m?"top":"bottom"));if(t.triggerHandler("beforeopen"))return!1;var b=function(){t.triggerHandler("open",{_selectBox:!0})};switch(r.menuTransition){case"fade":i.fadeIn(r.menuSpeed,b);break;case"slide":i.slideDown(r.menuSpeed,b);break;default:i.show(r.menuSpeed,b)}r.menuSpeed||b();var w=i.find(".selectBox-selected:first");this.keepOptionInView(w,!0),this.addHover(w),n.addClass("selectBox-menuShowing selectBox-menuShowing-"+(m?"top":"bottom")),$(document).bind("mousedown.selectBox",function(t){if(1===t.which){if($(t.target).parents().andSelf().hasClass("selectBox-options"))return;e.hideMenus()}})},t.prototype.hideMenus=function(){if($(".selectBox-dropdown-menu:visible").length===0)return;$(document).unbind("mousedown.selectBox"),$(".selectBox-dropdown-menu").each(function(){var e=$(this),t=e.data("selectBox-select"),n=t.data("selectBox-control"),r=t.data("selectBox-settings"),i=e.data("posTop");if(t.triggerHandler("beforeclose"))return!1;var s=function(){t.triggerHandler("close",{_selectBox:!0})};if(r){switch(r.menuTransition){case"fade":e.fadeOut(r.menuSpeed,s);break;case"slide":e.slideUp(r.menuSpeed,s);break;default:e.hide(r.menuSpeed,s)}r.menuSpeed||s(),n.removeClass("selectBox-menuShowing selectBox-menuShowing-"+(i?"top":"bottom"))}else $(this).hide(),$(this).triggerHandler("close",{_selectBox:!0}),$(this).removeClass("selectBox-menuShowing selectBox-menuShowing-"+(i?"top":"bottom"));e.css("max-height",""),e.removeClass("selectBox-options-"+(i?"top":"bottom")),e.data("posTop",!1)})},t.prototype.selectOption=function(e,t){var n=$(this.selectElement);e=$(e);var r=n.data("selectBox-control"),i=n.data("selectBox-settings");if(r.hasClass("selectBox-disabled"))return!1;if(0===e.length||e.hasClass("selectBox-disabled"))return!1;if(n.attr("multiple"))if(t.shiftKey&&r.data("selectBox-last-selected")){e.toggleClass("selectBox-selected");var s;e.index()>r.data("selectBox-last-selected").index()?s=e.siblings().slice(r.data("selectBox-last-selected").index(),e.index()):s=e.siblings().slice(e.index(),r.data("selectBox-last-selected").index()),s=s.not(".selectBox-optgroup, .selectBox-disabled"),e.hasClass("selectBox-selected")?s.addClass("selectBox-selected"):s.removeClass("selectBox-selected")}else this.isMac&&t.metaKey||!this.isMac&&t.ctrlKey?e.toggleClass("selectBox-selected"):(e.siblings().removeClass("selectBox-selected"),e.addClass("selectBox-selected"));else e.siblings().removeClass("selectBox-selected"),e.addClass("selectBox-selected");r.hasClass("selectBox-dropdown")&&r.find(".selectBox-label").text(e.text());var o=0,u=[];return n.attr("multiple")?r.find(".selectBox-selected A").each(function(){u[o++]=$(this).attr("rel")}):u=e.find("A").attr("rel"),r.data("selectBox-last-selected",e),n.val()!==u&&(n.val(u),this.setLabel(),n.trigger("change")),!0},t.prototype.addHover=function(e){e=$(e);var t=$(this.selectElement),n=t.data("selectBox-control"),r=n.data("selectBox-options");r.find(".selectBox-hover").removeClass("selectBox-hover"),e.addClass("selectBox-hover")},t.prototype.getSelectElement=function(){return this.selectElement},t.prototype.removeHover=function(e){e=$(e);var t=$(this.selectElement),n=t.data("selectBox-control"),r=n.data("selectBox-options");r.find(".selectBox-hover").removeClass("selectBox-hover")},t.prototype.keepOptionInView=function(e,t){if(!e||e.length===0)return;var n=$(this.selectElement),r=n.data("selectBox-control"),i=r.data("selectBox-options"),s=r.hasClass("selectBox-dropdown")?i:i.parent(),o=parseInt(e.offset().top-s.position().top),u=parseInt(o+e.outerHeight());t?s.scrollTop(e.offset().top-s.offset().top+s.scrollTop()-s.height()/2):(o<0&&s.scrollTop(e.offset().top-s.offset().top+s.scrollTop()),u>s.height()&&s.scrollTop(e.offset().top+e.outerHeight()-s.offset().top+s.scrollTop()-s.height()))},t.prototype.handleKeyDown=function(e){var t=$(this.selectElement),n=t.data("selectBox-control"),r=n.data("selectBox-options"),i=t.data("selectBox-settings"),s=0,o=0;if(n.hasClass("selectBox-disabled"))return;switch(e.keyCode){case 8:e.preventDefault(),this.typeSearch="";break;case 9:case 27:this.hideMenus(),this.removeHover();break;case 13:n.hasClass("selectBox-menuShowing")?(this.selectOption(r.find("LI.selectBox-hover:first"),e),n.hasClass("selectBox-dropdown")&&this.hideMenus()):this.showMenu();break;case 38:case 37:e.preventDefault();if(n.hasClass("selectBox-menuShowing")){var u=r.find(".selectBox-hover").prev("LI");s=r.find("LI:not(.selectBox-optgroup)").length,o=0;while(u.length===0||u.hasClass("selectBox-disabled")||u.hasClass("selectBox-optgroup")){u=u.prev("LI"),u.length===0&&(i.loopOptions?u=r.find("LI:last"):u=r.find("LI:first"));if(++o>=s)break}this.addHover(u),this.selectOption(u,e),this.keepOptionInView(u)}else this.showMenu();break;case 40:case 39:e.preventDefault();if(n.hasClass("selectBox-menuShowing")){var a=r.find(".selectBox-hover").next("LI");s=r.find("LI:not(.selectBox-optgroup)").length,o=0;while(0===a.length||a.hasClass("selectBox-disabled")||a.hasClass("selectBox-optgroup")){a=a.next("LI"),a.length===0&&(i.loopOptions?a=r.find("LI:first"):a=r.find("LI:last"));if(++o>=s)break}this.addHover(a),this.selectOption(a,e),this.keepOptionInView(a)}else this.showMenu()}},t.prototype.handleKeyPress=function(e){var t=$(this.selectElement),n=t.data("selectBox-control"),r=n.data("selectBox-options"),i=this;if(n.hasClass("selectBox-disabled"))return;switch(e.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:n.hasClass("selectBox-menuShowing")||this.showMenu(),e.preventDefault(),clearTimeout(this.typeTimer),this.typeSearch+=String.fromCharCode(e.charCode||e.keyCode),r.find("A").each(function(){if($(this).text().substr(0,i.typeSearch.length).toLowerCase()===i.typeSearch.toLowerCase())return i.addHover($(this).parent()),i.selectOption($(this).parent(),e),i.keepOptionInView($(this).parent()),!1}),this.typeTimer=setTimeout(function(){i.typeSearch=""},1e3)}},t.prototype.enable=function(){var e=$(this.selectElement);e.prop("disabled",!1);var t=e.data("selectBox-control");if(!t)return;t.removeClass("selectBox-disabled")},t.prototype.disable=function(){var e=$(this.selectElement);e.prop("disabled",!0);var t=e.data("selectBox-control");if(!t)return;t.addClass("selectBox-disabled")},t.prototype.setValue=function(e){var t=$(this.selectElement);t.val(e),e=t.val(),null===e&&(e=t.children().first().val(),t.val(e));var n=t.data("selectBox-control");if(!n)return;var r=t.data("selectBox-settings"),i=n.data("selectBox-options");this.setLabel(),i.find(".selectBox-selected").removeClass("selectBox-selected"),i.find("A").each(function(){if(typeof e=="object")for(var t=0;t<e.length;t++)$(this).attr("rel")==e[t]&&$(this).parent().addClass("selectBox-selected");else $(this).attr("rel")==e&&$(this).parent().addClass("selectBox-selected")}),r.change&&r.change.call(t)},t.prototype.disableSelection=function(e){$(e).css("MozUserSelect","none").bind("selectstart",function(e){e.preventDefault()})},t.prototype.generateOptions=function(e,t){var n=$("<li />"),r=$("<a />");n.addClass(e.attr("class")),n.data(e.data()),r.attr("rel",e.val()).text(e.text()),n.append(r),e.attr("disabled")&&n.addClass("selectBox-disabled"),e.attr("selected")&&n.addClass("selectBox-selected"),t.append(n)},$.extend($.fn,{setOptions:function(e){var t=$(this),n=t.data("selectBox-control");switch(typeof e){case"string":t.html(e);break;case"object":t.html("");for(var r in e){if(e[r]===null)continue;if(typeof e[r]=="object"){var i=$('<optgroup label="'+r+'" />');for(var s in e[r])i.append('<option value="'+s+'">'+e[r][s]+"</option>");t.append(i)}else{var o=$('<option value="'+r+'">'+e[r]+"</option>");t.append(o)}}}n&&$(this).selectBox("refresh")},selectBox:function(e,n){var r;switch(e){case"control":return $(this).data("selectBox-control");case"settings":if(!n)return $(this).data("selectBox-settings");$(this).each(function(){$(this).data("selectBox-settings",$.extend(!0,$(this).data("selectBox-settings"),n))});break;case"options":if(undefined===n)return $(this).data("selectBox-control").data("selectBox-options");$(this).each(function(){$(this).setOptions(n)});break;case"value":if(undefined===n)return $(this).val();$(this).each(function(){r=$(this).data("selectBox"),r&&r.setValue(n)});break;case"refresh":$(this).each(function(){r=$(this).data("selectBox"),r&&r.refresh()});break;case"enable":$(this).each(function(){r=$(this).data("selectBox"),r&&r.enable(this)});break;case"disable":$(this).each(function(){r=$(this).data("selectBox"),r&&r.disable()});break;case"destroy":$(this).each(function(){r=$(this).data("selectBox"),r&&(r.destroy(),$(this).data("selectBox",null))});break;case"instance":return $(this).data("selectBox");default:$(this).each(function(n,r){$(r).data("selectBox")||$(r).data("selectBox",new t(r,e))})}return $(this)}}),t}),n("ui/Select",["require","dep/jquery.selectBox"],function(e){function n(e,n){this.instance=new t($(e),n),this.main=this.instance.selectElement,this.$main=$(this.main)}function r(e){return e.nodeType===1&&e.tagName.toLowerCase()==="select"}var t=e("dep/jquery.selectBox");n.prototype={enable:function(){this.instance.enable()},disable:function(){this.instance.disable()},refresh:function(){this.instance.refresh()},val:function(e){if(undefined===e)return this.$main.val();this.instance.setValue(e)},destroy:function(){this.instance.destroy()}};var i="bizSelect";return $.extend($.fn,{bizSelect:function(e,t){var s;switch(e){case"enable":this.each(function(){s=$(this).data(i),s&&s.enable()});break;case"disable":this.each(function(){s=$(this).data(i),s&&s.disable()});break;case"refresh":this.each(function(){s=$(this).data(i),s&&s.refresh()});break;case"val":if(undefined===t)return $(this).val();this.each(function(){s=$(this).data(i),s&&s.val(t)});break;case"destroy":this.each(function(){s=$(this).data(i),s&&(s.destroy(),$(this).data(i,null))});break;default:this.each(function(){!$(this).data(i)&&r(this)&&$(this).data(i,new n(this,e))})}return this}}),n}),n("ui/Dialog",["require"],function(e){function t(e,t){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}if(!r(e))return;this.main=e,this.$main=$(this.main);var n={width:480,height:240,buttons:[]};this.options=$.extend(n,t||{}),this.init(this.options)}function r(e){return e.nodeType===1&&e.tagName.toLowerCase()==="div"&&e.hasAttribute("title")}var n="biz-dialog";t.prototype={init:function(e){var t=this.$main.attr("title"),r=this.$main.html(),i=this;this.orginContent=r,this.$main.hide().addClass(n).removeAttr("title").html(['<h1 class="biz-dialog-title">',"<span>",t,"</span>",'<span class="biz-dialog-close"></span></h1>','<div class="biz-dialog-content">',r,"</div>",'<div class="biz-dialog-bottom"></div>'].join("")).css({width:e.width,height:e.height,marginLeft:-Math.floor(e.width/2),marginTop:-Math.floor(e.height/2)}).after('<div class="biz-mask" style="display:none"></div>').on("click",".biz-dialog-close",function(){i.close()}),this.$main.find(".biz-dialog-content").css({height:e.height-150});var s=this.$main.find(".biz-dialog-bottom");$.each(e.buttons,function(e,t){$("<button>"+t.text+"</button>").bizButton({theme:t.theme}).click(function(e){t.click.call(i,e)}).appendTo(s)})},open:function(){this.$main.next().show(),this.$main.fadeIn()},close:function(){this.$main.hide(),this.$main.next().fadeOut()},destroy:function(){this.$main.removeClass(n).attr("title",this.$main.find(".biz-dialog-title").text()).removeAttr("style").hide().off("click"),this.$main.find(".biz-dialog-bottom button").bizButton("destroy"),this.$main.html(this.orginContent).next().remove(),this.orginContent=null}},t.alert=function(e){var t=$('<div style="display:none" class="bizui-alert" title="'+e.title+'">'+e.content+"</div>");t.appendTo("body").bizDialog({width:360,height:200,buttons:[{text:e.ok,click:function(){t.bizDialog("destroy").remove()}}]}),t.find(".biz-dialog-close").remove(),t.bizDialog("open")},t.confirm=function(e){var t=$('<div style="display:none" class="bizui-confirm" title="'+e.title+'">'+e.content+"</div>");t.appendTo("body").bizDialog({width:360,height:200,buttons:[{text:e.ok,click:function(){t.bizDialog("destroy").remove(),e.onOK&&e.onOK()}},{text:e.cancel,click:function(){t.bizDialog("destroy").remove()},theme:"dark"}]}),t.find(".biz-dialog-close").remove(),t.bizDialog("open")};var i="bizDialog";return $.extend($.fn,{bizDialog:function(e,n){var s;switch(e){case"open":this.each(function(){s=$(this).data(i),s&&s.open()});break;case"close":this.each(function(){s=$(this).data(i),s&&s.close()});break;case"destroy":this.each(function(){s=$(this).data(i),s&&(s.destroy(),$(this).data(i,null))});break;default:this.each(function(){!$(this).data(i)&&r(this)&&$(this).data(i,new t(this,e))})}return this}}),t}),n("ui/Panel",["require"],function(e){function t(e,t){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}if(!r(e))return;this.main=e,this.$main=$(this.main);var n={marginLeft:200,buttons:[]};this.options=$.extend(n,t||{}),this.init(this.options)}function r(e){return e.nodeType===1&&e.tagName.toLowerCase()==="div"&&e.hasAttribute("title")}var n="biz-panel";t.prototype={init:function(e){var t=this.$main.attr("title"),r=this.$main.html(),i=this;this.orginContent=r,this.$main.hide().addClass(n).removeAttr("title").html(['<div class="biz-panel-margin"></div>','<div class="biz-panel-body">','<h1 class="biz-panel-title">',t,"</h1>",'<div class="biz-panel-content">',r,"</div>",'<div class="biz-panel-bottom"></div></div>'].join("")).after('<div class="biz-mask" style="display:none"></div>'),this.$main.find(".biz-panel-margin").css({width:e.marginLeft});var s=this.$main.find(".biz-panel-bottom");$.each(e.buttons,function(e,t){$("<button>"+t.text+"</button>").bizButton({theme:t.theme}).click(function(e){t.click.call(i,e)}).appendTo(s)})},open:function(){$("body").css({overflow:"hidden"}),this.$main.next().show();var e=this;this.$main.css({top:Math.max(document.body.scrollTop,document.documentElement.scrollTop)}).show().animate({left:0},300,function(){e.$main.find(".biz-panel-body")[0].scrollTop=0})},close:function(){var e=this;this.$main.animate({left:Math.max(document.body.offsetWidth,document.documentElement.offsetWidth)},300,function(){e.$main.hide(),e.$main.next().hide(),$("body").css({overflow:"visible"})})},destroy:function(){this.$main.removeClass(n).attr("title",this.$main.find(".biz-panel-title").text()).removeAttr("style").hide(),this.$main.find(".biz-panel-bottom button").bizButton("destroy"),this.$main.html(this.orginContent).next().remove(),this.orginContent=null}};var i="bizPanel";return $.extend($.fn,{bizPanel:function(e,n){var s;switch(e){case"open":this.each(function(){s=$(this).data(i),s&&s.open()});break;case"close":this.each(function(){s=$(this).data(i),s&&s.close()});break;case"destroy":this.each(function(){s=$(this).data(i),s&&(s.destroy(),$(this).data(i,null))});break;default:this.each(function(){!$(this).data(i)&&r(this)&&$(this).data(i,new t(this,e))})}return this}}),t}),n("bizui",["require","ui/Button","ui/Input","ui/Textarea","ui/Radio","ui/Checkbox","ui/Select","ui/Dialog","ui/Panel"],function(e){var t={},n=window.bizui;return t.noConflict=function(){return window.bizui=n,this},$.extend(t,{Button:e("ui/Button"),Input:e("ui/Input"),Textarea:e("ui/Textarea"),Radio:e("ui/Radio"),Checkbox:e("ui/Checkbox"),Select:e("ui/Select"),Dialog:e("ui/Dialog"),Panel:e("ui/Panel")}),t}),t("bizui")});